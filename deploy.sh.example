#!/bin/bash
# Deployment-Script fÃ¼r eigenen Server
# Anpassen: USER, SERVER, REMOTE_PATH
# AusfÃ¼hrbar machen: chmod +x deploy.sh

USER="dein-user"
SERVER="dein-server.com"
REMOTE_PATH="/var/www/athlethe_game"

echo "ğŸ”¨ Building..."
npm run build

if [ $? -ne 0 ]; then
    echo "âŒ Build fehlgeschlagen!"
    exit 1
fi

echo "ğŸ“¤ Uploading to $SERVER..."
rsync -avz --delete dist/ $USER@$SERVER:$REMOTE_PATH/

if [ $? -ne 0 ]; then
    echo "âŒ Upload fehlgeschlagen!"
    exit 1
fi

echo "ğŸ”„ Reloading Nginx..."
ssh $USER@$SERVER "sudo systemctl reload nginx"

echo "âœ… Deployment abgeschlossen!"
echo "ğŸŒ App verfÃ¼gbar unter: http://$SERVER"

